
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>evatlsong</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="evatlsong">
<meta property="og:url" content="http://evatlsong.com/page/2/index.html">
<meta property="og:site_name" content="evatlsong">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="evatlsong">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="evatlsong" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
</head>
<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">evatlsong</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/tags">Tags</a>
        
          <a class="main-nav-link" href="https://github.com/evatlsong/evatlsong.github.io">SourceCode</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="http://www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
          <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search">
          <input type="submit" value="" class="search-form-submit">
          <input name=tn type=hidden value="bds">
          <input name=cl type=hidden value="3">
          <input name=ct type=hidden value="2097152">
          <input type="hidden" name="si" value="evatlsong.com">
        </form>
      </div>
    </div>
  </div>
</header>
    <div class="outer">
      <section id="main">
  
    <article id="post-windows-config" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/09/20/windows-config/" class="article-date">
  <time datetime="2014-09-20T03:52:53.000Z" itemprop="datePublished">2014-09-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/20/windows-config/">windows-config</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="配置VIM">配置VIM</h2><p>安装Msysgit</p>
<p>git bash下执行命令</p>
<pre><code>git clone http<span class="variable">s:</span>//github.<span class="keyword">com</span>/evatlsong/<span class="built_in">system</span>.git
git clone http<span class="variable">s:</span>//github.<span class="keyword">com</span>/gmarik/vundle.git <span class="string">"C:\Users\evasong10\.vim\bundle\vundle"</span>
</code></pre><p>以管理员权限运行ms-dos</p>
<pre><code>mklink "C:<span class="command">\Users</span><span class="command">\evasong</span>10<span class="command">\.</span>vimrc" "E:<span class="command">\system</span><span class="command">\config</span><span class="command">\.</span>win_vimrc"
</code></pre><p>git bash下执行命令</p>
<pre><code><span class="keyword">vim</span> +BundleInstall +<span class="keyword">qall</span>
</code></pre>
      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://evatlsong.com/2014/09/20/windows-config/" data-id="cichk7mzy00051ixmjvfoinku" class="article-share-link" data-share="baidu">分享到</a>
      

      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-centos-7-usage" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/09/17/centos-7-usage/" class="article-date">
  <time datetime="2014-09-17T10:03:32.000Z" itemprop="datePublished">2014-09-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/17/centos-7-usage/">centos-7-usage</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>centos7 有两个防火墙 firewalld iptables 默认firewalld 不能同时共存</p>
<pre><code>systemctl <span class="literal">status</span> iptables.<span class="keyword">service</span>
systemctl <span class="literal">stop</span> firewalld.<span class="keyword">service</span>
systemctl disable firewalld.<span class="keyword">service</span>
systemctl <span class="literal">enable</span> iptables.<span class="keyword">service</span>
systemctl <span class="literal">start</span> iptables.<span class="keyword">service</span>
</code></pre><p>centos7 网络管理从network.service 换成了NetworkManager.service</p>
<p>管理服务用systemctl</p>
<p>/usr/sbin/setenforce 0 立刻关闭 SELINUX</p>
<p>/usr/sbin/setenforce 1 立刻启用 SELINUX</p>
<p>1 永久方法 – 需要重启服务器</p>
<p>修改/etc/selinux/config文件中设置SELINUX=disabled ，然后重启服务器</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://evatlsong.com/2014/09/17/centos-7-usage/" data-id="cichk7n2400111ixm0fjrc9j6" class="article-share-link" data-share="baidu">分享到</a>
      

      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-git-usage" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/09/15/git-usage/" class="article-date">
  <time datetime="2014-09-15T08:35:26.000Z" itemprop="datePublished">2014-09-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/15/git-usage/">git-usage</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="配置">配置</h2><pre><code><span class="variable">$ </span>git config --global user.name <span class="string">"Your Name Comes Here"</span> 
<span class="variable">$ </span>git config --global user.email you<span class="variable">@yourdomain</span>.example.com 
<span class="variable">$ </span>git config --list 查看相关信息 
<span class="variable">$ </span>mkdir gitdata
<span class="variable">$ </span>cd gitdata
<span class="variable">$ </span>git init 
</code></pre><p>如果作为 Server 存在，那么可以忽略工作目录，以纯代码仓库形式存在。 </p>
<pre><code>$ git <span class="comment">--bare init </span>
</code></pre><p>可以在~/.gitconfig设置别名 </p>
<pre><code><span class="title">[alias]</span> 
<span class="setting">st = <span class="value">status </span></span>
<span class="setting">ci = <span class="value">commit -a </span></span>
<span class="setting">co = <span class="value">checkout  </span></span>
</code></pre><h2 id="文件操作">文件操作</h2><pre><code><span class="char">$ </span>git add . 
<span class="char">$ </span>git add file1 file2 file3 
<span class="char">$ </span>git add -u 
<span class="char">$ </span>git add -p // 为你做的每次修改，<span class="class">Git</span>将为你展示变动的代码，并询问该变动是否应是下一次提交的一部分。回答“y”或者“n”。也有其他选项，比如延迟决定：键入“？”来学习更多。 
<span class="char">$ </span>git rm file1 file2 file3 
<span class="char">$ </span>git mv file1 file2 
</code></pre><h2 id="提交更改">提交更改</h2><pre><code><span class="char">$ </span>git commit -a -m <span class="string">' '</span> 
<span class="char">$ </span>git commit --amend -a -m <span class="string">' '</span> // 修改上一次的信息，不作为新的提交 
<span class="char">$ </span>git stash // 保存当前草稿，便于切换分支
<span class="char">$ </span>git stash pop 
<span class="char">$ </span>git stash apply
<span class="char">$ </span>git stash list
<span class="char">$ </span>git stash apply stash@{<span class="number">1</span>}
<span class="char">$ </span>git stash clear
</code></pre><h2 id="撤销更改">撤销更改</h2><pre><code><span class="char">$ </span>git reset <span class="class">HEAD</span> file1 // 取消暂存区的文件快照(即恢复成最后一个提交版本)，这不会影响工作目录的文件修改。 
<span class="char">$ </span>git reset --hard <span class="class">HEAD</span>^ // 将整个项目回溯到以前的某个版本，可以使用 <span class="comment">"git reset"</span>。可以选择的参数包括默认的 <span class="comment">"--mixed"</span> 和 <span class="comment">"--hard"</span>，前者不会取消工作目录的修改，而后者则放弃全部的修改。该操作会丢失其后的日志 
<span class="char">$ </span>git checkout -- file1 // 使用暂存区快照恢复工作目录文件，工作目录的文件修改被抛弃。 
<span class="char">$ </span>git checkout <span class="class">HEAD</span>^ file1 // 直接 <span class="comment">"签出"</span> 代码仓库中的某个文件版本到工作目录，该操作同时会取消暂存区快照。 
<span class="char">$ </span>git checkout <span class="comment">"@{10 minutes ago}"</span> // 直接 <span class="comment">"签出"</span> <span class="number">10</span>分钟之前代码仓库中的某个文件版本到工作目录，该操作同时会取消暂存区快照。 
<span class="char">$ </span>git checkout <span class="comment">"@{5}"</span> // 直接 <span class="comment">"签出"</span> 倒数第五次保存的某个文件版本到工作目录，该操作同时会取消暂存区快照。 
<span class="char">$ </span>git revert <span class="class">SHA1_HASH</span> // 还原特定哈希值对应的提交。该还原记录作为一个新的提交。
</code></pre><h2 id="查看历史纪录或者当前状态">查看历史纪录或者当前状态</h2><pre><code>$ git <span class="keyword">log</span> 
$ git <span class="keyword">log</span> -p 
$ git <span class="keyword">log</span> --stat --summary 
$ git <span class="keyword">log</span> V3..V7 <span class="comment">//显示V3之后直至V7的所有历史记录 </span>
$ git <span class="keyword">log</span> V3.. <span class="comment">//显示所有V3之后的历史记录。注意&lt;since&gt;..&lt;until&gt;中任何一个被省略都将被默认设置为HEAD。所以如果使用..&lt;until&gt;的话，git log在大部分情况下会输出空的。 </span>
$ git <span class="keyword">log</span> –since=”<span class="number">2</span> weeks ago” <span class="comment">//显示2周前到现在的所有历史记录。具体语法可查询git-ref-parse命令的帮助文件。 </span>
$ git <span class="keyword">log</span> stable..experimental <span class="comment">//将显示在experimental分支但不在stable分支的历史记录 </span>
$ git <span class="keyword">log</span> experimental..stable <span class="comment">//将显示在stable分支但不在experimental分支的历史记录 </span>
$ git <span class="keyword">log</span> -S<span class="string">'你要找的内容'</span>，就可以从全部的历史纪录，瞬間找到你要找的东西 
$ git blame FILE <span class="comment">// 标注出一个指定的文件里每一行内容的最后修改者，和最后修改时间。 </span>
$ git diff <span class="comment">// 这个命令只在git add之前使用有效。如果已经add了，那么此命令输出为空 </span>
$ git diff –cached <span class="comment">// 这个命令在git add之后在git commit之前有效。 </span>
$ git diff <span class="string">"@{yesterday}"</span> <span class="comment">// 比较当前和昨天的内容 </span>
$ git status <span class="comment">// 这个命令在git commit之前有效，表示都有哪些文件发生了改动 </span>
$ git show <span class="number">5</span>b888 <span class="comment">// 使用git show再加上述的commit名称来显式更详细的commit信息 </span>
$ git show master <span class="comment">// 显示分支信息 </span>
$ git show HEAD <span class="comment">// 使用HEAD字段可以代表当前分支的头（也就是最近一次commit) </span>
$ git show HEAD^ <span class="comment">//查看HEAD的父母的信息, 可以使用^表示parent </span>
$ git show HEAD^^ <span class="comment">//查看HEAD的父母的父母的信息 </span>
$ git show HEAD~<span class="number">4</span> <span class="comment">//查看HEAD上溯4代的信息 </span>
$ git tag V3 <span class="number">5</span>b888 <span class="comment">//以后可以用V3来代替复杂的名称(5b888…) </span>
$ git show V3 
$ git branch stable V3 <span class="comment">//建立一个基于V3的分支 </span>
$ git grep “<span class="keyword">print</span>” V3 <span class="comment">//在V3中搜索所有的包含print的行 </span>
$ git grep “<span class="keyword">print</span>” <span class="comment">//在所有的历史记录中搜索包含print的行 </span>
</code></pre><h2 id="协作操作">协作操作</h2><pre><code>$ git clone <span class="string">git:</span><span class="comment">//server/path/to/files // Git deamon </span>
$ git clone your.<span class="string">computer:</span><span class="regexp">/path/</span>to<span class="regexp">/script  or git clone ssh:/</span><span class="regexp">/car.colorado.edu/</span>home<span class="regexp">/xxx ./</span>xxxxx <span class="comment">// SSH</span>
$ git pull 
$ git push <span class="comment">// 在将代码提交(push)到服务器之前，首先要确认相关更新已经合并(merge)到主分支(master)。还应该先从服务器刷新(pull)最新代码，以确保自己的提交不会和别人最新提交的代码冲突。</span>
</code></pre><p>如果想在merge前先查看更改：</p>
<pre><code>$ git fetch /home/<span class="keyword">bob/myrepo </span>master:<span class="keyword">bobworks </span>//此命令意思是提取出<span class="keyword">bob修改的代码内容，然后放到我（rocrocket）工作目录下的bobworks分支中。之所以要放到分支中，而不是master中，就是要我先仔仔细细看看bob的开发成果，如果我觉得满意，我再merge到master中，如果不满意，我完全可以直接git </span><span class="keyword">branch </span>-D掉。 
$ git whatchanged -p master..<span class="keyword">bobworks </span>//用来查看<span class="keyword">bob都做了什么 </span>
$ git checkout master //切换到master分区 
$ git pull . <span class="keyword">bobworks </span>//如果我检查了<span class="keyword">bob的工作后很满意，就可以用pull来将bobworks分支合并到我的项目中了 </span>
</code></pre><h2 id="分支管理">分支管理</h2><pre><code><span class="variable">$ </span>git <span class="symbol">branch:</span> 查看当前分支 
<span class="variable">$ </span>git checkout -b/branch experimental： 创建新分支 
<span class="variable">$ </span>git checkout experimental： 切换到另一分支 
<span class="variable">$ </span>git merge experimental：合并分支 
<span class="variable">$ </span>git branch -d experimental：删除分支, 使用的是小写的-d，表示“在分支已经合并到主干后删除分支”。 
<span class="variable">$ </span>git branch -<span class="constant">D </span>experimental：删除分支, 表示“不论如何都删除分支”，-<span class="constant">D使</span>用在“分支被证明失败” 
</code></pre><h2 id="补丁工作">补丁工作</h2><p>git format-patch：当你想给一个开源项目（例如Rails）提交一段代码的时候，或者你想给小组成员展示一段你并不想提交的代码，那么你还是需要 patch的，Git的’format-patch’命令良好的支持了这个功能。<br>第一，利用branch命令 创建一个分支；<br>第二，修改你的代码；<br>第三，在该分支上提交你的修改；<br>第四，使用’git format-patch’命令来生成一个patch文件，例如：’git format-patch master —stdout &gt; ~/Desktop/tmp.patch’就是将工作分支与master主干的不同，存放在’~/Desktop’文件夹下，生成一个叫做 tmp.patch的文件（另一种简单的版本是利用diff命令，例如’git diff ..master &gt; ~/Desktop/tmp.patch’），这样就生成了patch文件。那么别人就可以使用’git apply’命令来应用patch，例如’git apply ~/Desktop/tmp.patch’就是将patch打在当前的工作分支上 </p>
<h2 id="仓库维护">仓库维护</h2><pre><code>$ git fsck: 不加–full参数的情况下，这个命令一般会以非常低廉的代价确保仓库在一个不错的健康状态之中。 
$ git count-objects: 统计有多少松散的对象，没有 repack 的对象消耗了多少硬盘空间。 
$ git gc: 在本地仓库进行 repack，并进行其他日常维护工作。 
$ git <span class="attribute">filter</span>-branch --tree-<span class="attribute">filter</span> `rm <span class="attribute">top</span>/secret/file` HEAD <span class="comment">//在所有记录中永久删除某个文件 </span>
$ git rebase -<span class="tag">i</span> HEAD~<span class="number">10</span> <span class="comment">// 后10个提交会出现在你喜爱的$EDITOR。通过删除行来移去提交。通过为行重新排序来为提交重新排序。用“edit”来替换“pick”来标志一个提交可修改。用“squash”来替换“pick”来将一个提交和前一个合并。 </span>
</code></pre><h2 id="错误查询">错误查询</h2><p>刚刚发现程序里有一个功能出错了，即使你过去经常提交变更，Git还是可以精确的找出问题所在： </p>
<pre><code>$ git <span class="keyword">bisect </span>start 
$ git <span class="keyword">bisect </span><span class="keyword">bad </span>SHA1_OF_BAD_VERSION 
$ git <span class="keyword">bisect </span>good SHA1_OF_GOOD_VERSION 
</code></pre><p>Git从历史记录中检出一个中间的状态，在这个状态上测试功能，如果还是错误的： </p>
<pre><code>$ git <span class="keyword">bisect </span><span class="keyword">bad </span>
</code></pre><p>如果可以工作了，则把”bad”替换成”good”。 Git会再次帮你找到一个以确定的好版本和坏版本之间的状态，经过一系列的迭代，这种二进制查询会帮你找到导致这个错误的那次提交。一旦完成了问题定位的调查，你可以返回到原始状态，键入： </p>
<pre><code>$ git <span class="keyword">bisect </span>reset 
</code></pre><p>不需要手工测试每一次改动，执行如下命令可以自动的完成上面的搜索： </p>
<pre><code>$ git bisect <span class="command">run</span> COMMAND 
</code></pre><p>Git使用指定命令（通常是一个一次性的脚本）的返回值来决定一次改动是否是正确的：命令退出时的代码0代表改动是正确的，125代表要跳过对这次改动的检查，1到127之间的其他数值代表改动是错误的。返回负数将会中断整个bisect的检查。 </p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://evatlsong.com/2014/09/15/git-usage/" data-id="cichk7n1m000s1ixmy44jz5ir" class="article-share-link" data-share="baidu">分享到</a>
      

      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-eclipse-usage" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/09/11/eclipse-usage/" class="article-date">
  <time datetime="2014-09-11T04:30:19.000Z" itemprop="datePublished">2014-09-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/11/eclipse-usage/">eclipse-usage</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="问题描述">问题描述</h2><p>eclipse不能编译项目</p>
<h2 id="解决">解决</h2><p>eclipse-&gt;&gt;project-&gt;&gt;clean<br>清理下项目即可解决</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://evatlsong.com/2014/09/11/eclipse-usage/" data-id="cichk7n1u000x1ixmf65cemvt" class="article-share-link" data-share="baidu">分享到</a>
      

      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-centos-install" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/09/10/centos-install/" class="article-date">
  <time datetime="2014-09-10T04:30:19.000Z" itemprop="datePublished">2014-09-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/10/centos-install/">centos-install</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="问题">问题</h1><h2 id="安装问题">安装问题</h2><p>服务器安装最新版本centos7版本，进入光驱系统安装界面，出现一个问题：</p>
<ol>
<li>服务器直接连接宽屏显示器，会出现屏幕是倾斜状态；</li>
<li>通过远控卡访问服务器安装操作系统，会出现屏幕超出显示范围</li>
</ol>
<p>解决方法：</p>
<p>选择 <code>Troubleshooting</code> -&gt; <code>Install Centos 7 in basic graphics mode</code></p>
<h2 id="centos_下怎样从root切换到普通用户">centos 下怎样从root切换到普通用户</h2><p>su 普通用户名</p>
<h1 id="ssh设置">ssh设置</h1><h2 id="设置ssh">设置ssh</h2><pre><code>ssh-keygen <span class="comment">## 生成默认名字的公钥私钥对</span>
ssh-keygen -f ~/.ssh/<span class="variable">&lt;filename&gt;</span> <span class="comment">## 生成指定名字的公钥私钥对</span>
ssh-copy-id -i .ssh/<span class="variable">&lt;filename&gt;</span>.pub <span class="variable">&lt;user&gt;</span>@<span class="variable">&lt;server&gt;</span> <span class="comment">## 拷贝公钥到&lt;user&gt;用户 ~/.ssh/authorized_keys 文件中</span>

ssh <span class="variable">&lt;user&gt;</span>@<span class="variable">&lt;server&gt;</span> <span class="comment">## 直接访问</span>
</code></pre><h2 id="别名访问">别名访问</h2><pre><code>~/.ssh/config
host bj
  <span class="keyword">user</span> git
  hostname bj.ossxp.com
  <span class="keyword">port</span> <span class="number">22</span>
  identityfile ~/.ssh/<span class="variable">&lt;filename&gt;</span>
</code></pre><h2 id="遇到问题">遇到问题</h2><p>公钥没有拷贝到相关用户的家目录 报错为 <code>Server refused our key</code><br><code>chmod 600 ~/.ssh/authorized_keys</code> 去掉其他用户的权限<br><code>puttygen.exe</code> 保存到文件中的公钥 有换行 不能直接用</p>
<h1 id="vnc设置">vnc设置</h1><h2 id="一、安装_VNC">一、安装 VNC</h2><p>　　首先检查一下本机是否安装了 VNC，默认情况下，CentOS 7.0 是没有安装的。<br>　　检查是否安装，输入：</p>
<pre><code>[root<span class="property">@localhost</span> ~]<span class="comment"># rpm -q vnc vnc-server</span>
</code></pre><p>　　得到：</p>
<pre><code><span class="keyword">package</span> vnc <span class="keyword">is</span> <span class="keyword">not</span> installed

<span class="keyword">package</span> vnc-server <span class="keyword">is</span> <span class="keyword">not</span> installed
</code></pre><p>　　提示没有安装，那么就开始安装，输入：</p>
<pre><code>[root<span class="property">@localhost</span> ~]<span class="comment"># yum install vnc vnc-server</span>
</code></pre><p>　　注：如果是 Ubuntu 则输入：</p>
<pre><code>[root<span class="property">@localhost</span> ~]<span class="comment"># apt-get install vnc vnc-server</span>
</code></pre><p>　　在一串指令提示后，会让你确认一些选项，输入两次 “Y” 并确认，稍作等待，提示 “Complete!” 即完成安装。</p>
<h2 id="二、设置_VNC_密码">二、设置 VNC 密码</h2><p>　　启动 VNC，输入：</p>
<pre><code>[root<span class="property">@localhost</span> ~]<span class="comment"># vncserver</span>
</code></pre><p>　　此时会提示你输入密码，因为是第一次配置。重复输入两次即可。</p>
<h2 id="三、配置桌面类型_(可略过)">三、配置桌面类型 (可略过)</h2><p>　　设置一下远程桌面使用那个类型的桌面，分辨率多少等等。输入：</p>
<pre><code>[root<span class="property">@localhost</span> ~]<span class="comment"># vi ~/.vnc/xstartup</span>
</code></pre><p>　　得到：</p>
<pre><code><span class="shebang">#!/bin/sh
</span>
vncconfig -iconic &amp;
<span class="built_in">unset</span> SESSION_MANAGER
<span class="built_in">unset</span> DBUS_SESSION_BUS_ADDRESS
OS=`uname <span class="operator">-s</span>`
<span class="keyword">if</span>
[ <span class="variable">$OS</span> = 
<span class="string">'Linux'</span>
]; <span class="keyword">then</span>

<span class="keyword">case</span>
<span class="string">"<span class="variable">$WINDOWMANAGER</span>"</span>
<span class="keyword">in</span>

*gnome*)

<span class="keyword">if</span>
[ <span class="operator">-e</span> /etc/SuSE-release ]; <span class="keyword">then</span>

PATH=<span class="variable">$PATH</span>:/opt/gnome/bin

<span class="built_in">export</span> PATH

<span class="keyword">fi</span>

;;

<span class="keyword">esac</span>
<span class="keyword">fi</span>
<span class="keyword">if</span>
[ -x /etc/X11/xinit/xinitrc ]; <span class="keyword">then</span>

<span class="built_in">exec</span> /etc/X11/xinit/xinitrc
<span class="keyword">fi</span>
<span class="keyword">if</span>
[ <span class="operator">-f</span> /etc/X11/xinit/xinitrc ]; <span class="keyword">then</span>

<span class="built_in">exec</span> sh /etc/X11/xinit/xinitrc
<span class="keyword">fi</span>
[ -r <span class="variable">$HOME</span>/.Xresources ] &amp;&amp; xrdb <span class="variable">$HOME</span>/.Xresources
xsetroot -solid grey
xterm -geometry <span class="number">80</span>x24+<span class="number">10</span>+<span class="number">10</span> -ls -title 
<span class="string">"<span class="variable">$VNCDESKTOP</span> Desktop"</span>
&amp;
twm &amp;
</code></pre><p>　　一般情况下，我们使用的 Linux 桌面都是 “Gnome” 桌面，故配置成这个桌面比较习惯。<br>　　按 “i” 键进入编辑状态，主要修改最后两行。改为：</p>
<pre><code><span class="preprocessor"># xterm -geometry 80x24+10+10 -ls -title "$VNCDESKTOP Desktop" &amp;</span>
<span class="preprocessor"># twm &amp;</span>
gnome-session &amp;
</code></pre><p>　　一看便知，将配置文件的最后两行注释掉，并且加入了一行代码，表明使用的是 “Gnome” 桌面。</p>
<h2 id="四、配置登录帐号、桌面分辨率、连接方式_(可略过)">四、配置登录帐号、桌面分辨率、连接方式 (可略过)</h2><p>　　输入：</p>
<pre><code>[root<span class="property">@localhost</span> ~]<span class="comment"># vi /etc/sysconfig/vncservers</span>
</code></pre><p>　　出现如下提示：</p>
<pre><code># The VNCSERVERS variable is a list of display:user pairs.
#
# Uncomment the lines below to <span class="operator"><span class="keyword">start</span> a VNC <span class="keyword">server</span> <span class="keyword">on</span> display :<span class="number">2</span>
# <span class="keyword">as</span> my <span class="string">'myusername'</span> (adjust this <span class="keyword">to</span> your own).  You will also
# need <span class="keyword">to</span> <span class="keyword">set</span> a VNC <span class="keyword">password</span>;</span> run 'man vncpasswd' to see how
# to <span class="operator"><span class="keyword">do</span> that.
#
# <span class="keyword">DO</span> <span class="keyword">NOT</span> RUN THIS SERVICE <span class="keyword">if</span> your <span class="keyword">local</span> area network <span class="keyword">is</span>
# untrusted!  <span class="keyword">For</span> a secure way <span class="keyword">of</span> <span class="keyword">using</span> VNC, see this URL:
# http://kbase.redhat.com/faq/docs/DOC-<span class="number">7028</span>
# <span class="keyword">Use</span> <span class="string">"-nolisten tcp"</span> <span class="keyword">to</span> prevent X connections <span class="keyword">to</span> your VNC <span class="keyword">server</span> via TCP.
# <span class="keyword">Use</span> <span class="string">"-localhost"</span> <span class="keyword">to</span> prevent remote VNC clients connecting <span class="keyword">except</span> <span class="keyword">when</span>
# doing so through a secure tunnel.  See the <span class="string">"-via"</span> <span class="keyword">option</span> <span class="keyword">in</span> the
# <span class="string">`man vncviewer' manual page.

# VNCSERVERS="2:myusername"
# VNCSERVERARGS[2]="-geometry 800x600 -nolisten tcp -localhost"</span></span>
</code></pre><p>　　重点编辑最后两行，将这两行注释去掉，得到：</p>
<pre><code><span class="setting">VNCSERVERS=<span class="value"><span class="string">"1:root"</span></span></span>
<span class="setting">VNCSERVERARGS[1]=<span class="value"><span class="string">"-geometry 1024x768"</span></span></span>
</code></pre><p>　　这里是只有一个帐号登录，设置分辨率为1024*768，如果你有多个帐号，则按照下面格式配置。</p>
<pre><code><span class="setting">VNCSERVERS=<span class="value"><span class="string">"1:user1 2:user2 3:user3"</span></span></span>
<span class="setting">VNCSERVERARGS[1]=<span class="value"><span class="string">"-geometry 1024×768"</span></span></span>
<span class="setting">VNCSERVERARGS[2]=<span class="value"><span class="string">"-geometry 1024×768"</span></span></span>
<span class="setting">VNCSERVERARGS[3]=<span class="value"><span class="string">"-geometry 800×600 -depth 24 -nolisten tcp -nohttpd -localhost"</span></span></span>
</code></pre><p>　　解释一下这个文件：</p>
<pre><code>VNCSERVERS 这一行是配置在系统启动时启动几个 VNC <span class="keyword">server</span>，上面的例子里运行了三个 VNC <span class="keyword">server</span>，其中 user1 在 display :<span class="number">1</span>，user2 在 display :<span class="number">2</span>，user3 在 display :<span class="number">3</span>。

VNCSERVERARGS 这三行，分别为 VNC <span class="keyword">server</span> <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> 配置启动参数，上面的例子里对 user1 和 user2 使用屏幕分辨率 <span class="number">1024</span>×<span class="number">768</span>，对 user3 使用 <span class="number">800</span>×<span class="number">600</span>,<span class="number">24</span> 色，不支持 tcp，不支持 http 连接，只能在本地测试访问。
</code></pre><p>　　注释：在启动 VNCserver 时，你也可以为 server 指定一个 display 参数。你可以把 display 理解为一个桌面，每个用户都可以有自己的桌面。VNC 客户端在连接时，可以指定连接到哪个桌面上。在系统中，display 号不能重复，也就是说，如果有用户已经建立了名为 “:1” 的 display，另外一个用户就不能再使用 “:1” 了，他可以使用 “:2”。</p>
<p>　　指定 display 号码的启动 VNC server 的命令是:</p>
<pre><code><span class="label">vncserver:</span><span class="number">1</span>
</code></pre><h2 id="五、配置防火墙，允许_VNC_连接">五、配置防火墙，允许 VNC 连接</h2><p>　　VNC server 监听的端口从 5900 开始，display:1 的监听 5901，display:2 监听 5902，以此类推。CentOS 的防火墙缺省是不允许连接这些端口的，所以需要使用下面的步骤打开防火墙（需要 root 权限)：<br>　　输入编辑：</p>
<pre><code>[root<span class="property">@localhost</span> ~]<span class="comment"># vi /etc/sysconfig/iptables</span>
</code></pre><p>　　得到：</p>
<pre><code># Firewall configuration written by system-config-firewall
# Manual customization of this file is not recommended.
*filter
:INPUT ACCEPT [0:0]
:FORWARD ACCEPT [0:0]
:OUTPUT ACCEPT [0:0]
-<span class="ruby"><span class="constant">A</span> <span class="constant">INPUT</span> -m state --state <span class="constant">ESTABLISHED</span>,<span class="constant">RELATED</span> -j <span class="constant">ACCEPT</span>
</span>-<span class="ruby"><span class="constant">A</span> <span class="constant">INPUT</span> -p icmp -j <span class="constant">ACCEPT</span>
</span>-<span class="ruby"><span class="constant">A</span> <span class="constant">INPUT</span> -i lo -j <span class="constant">ACCEPT</span>
</span>-<span class="ruby"><span class="constant">A</span> <span class="constant">INPUT</span> -m state --state <span class="constant">NEW</span> -m tcp -p tcp --dport <span class="number">22</span> -j <span class="constant">ACCEPT</span>
</span>-<span class="ruby"><span class="constant">A</span> <span class="constant">INPUT</span> -j <span class="constant">REJECT</span> --reject-with icmp-host-prohibited
</span>-<span class="ruby"><span class="constant">A</span> <span class="constant">FORWARD</span> -j <span class="constant">REJECT</span> --reject-with icmp-host-prohibited
</span>COMMIT
</code></pre><p>　　上面我们只添加了一个 root 帐号和桌面 1，所以这里按照上面的规则，添加一个 “5901” 端口号即可。</p>
<pre><code><span class="comment"># Firewall configuration written by system-config-firewall</span>
<span class="comment"># Manual customization of this file is not recommended.</span>
*filter
:INPUT ACCEPT [<span class="number">0</span>:<span class="number">0</span>]
:FORWARD ACCEPT [<span class="number">0</span>:<span class="number">0</span>]
:OUTPUT ACCEPT [<span class="number">0</span>:<span class="number">0</span>]
-A INPUT -m <span class="keyword">state</span> --state ESTABLISHED,RELATED -j ACCEPT
-A INPUT -p icmp -j ACCEPT
-A INPUT -i lo -j ACCEPT
-A INPUT -m <span class="keyword">state</span> --state NEW -m tcp -p tcp --dport <span class="number">22</span> -j ACCEPT
-A INPUT -m <span class="keyword">state</span> --state NEW -m tcp -p tcp --dport <span class="number">5901</span> -j ACCEPT
-A INPUT -j REJECT --reject-with icmp-host-prohibited
-A FORWARD -j REJECT --reject-with icmp-host-prohibited
COMMIT
</code></pre><p>　　即添加了上述代码的第 11 行。</p>
<h2 id="六、重启防火墙">六、重启防火墙</h2><p>　　配置就算完毕了，需要重启一下防火墙才能使最后那个端口号的配置正常。</p>
<pre><code><span class="comment">[root@localhost ~]</span># /sbin/service iptables restart
iptables：清除防火墙规则：<span class="comment">[确定]</span>
iptables：将链设置为政策 ACCEPT：filter <span class="comment">[确定]</span>
iptables：正在卸载模块：<span class="comment">[确定]</span>
iptables：应用防火墙规则：<span class="comment">[确定]</span>
</code></pre><p>　　现在重启防火墙完毕后，你就可以使用 VNC 客户端连接了，连接时候必须注意主机 IP 地址后面必须加桌面号，例如这样连接：</p>
<pre><code>192<span class="class">.168</span><span class="class">.1</span><span class="class">.2</span><span class="pseudo">:1</span>    
</code></pre><p>　　跟输入端口号是一样的，但是这里是桌面号，记住。</p>
<h2 id="七、设置_VNC_自动启动">七、设置 VNC 自动启动</h2><p>　　虽然上面配置是可以使用了，但是你一旦重启服务器后，VNC 的服务又会停止，得手动来启，不方便，虽说服务器不能老是启动，但是重启的时候还是有的，为了方便，你需要将 VNC 服务设置为自动自动。<br>　　方法很多，你可以在图形化的界面下打开服务窗口，然后将 VNC 服务设为自动。既然这里都是在用终端下的命令行形式，就继续沿用这个方式吧。</p>
<pre><code>[root<span class="property">@localhost</span> ~]<span class="comment"># chkconfig vncserver on</span>
</code></pre><h1 id="tomcat">tomcat</h1><pre><code>pscp -r -v tomcat.tar.gz root<span class="variable">@192</span>.<span class="number">168.1</span>.<span class="number">217</span>:<span class="regexp">/usr/local</span>
tar -xzf /usr/<span class="keyword">local</span>/tomcat.tar.gz

svnadmin <span class="keyword">dump</span> Repositories\goutrip &gt; svndata\goutrip.<span class="keyword">dump</span>
svnadmin load svndata/goutrip &lt; goutrip.<span class="keyword">dump</span>

ps -aux|<span class="keyword">grep</span> svnserve
<span class="keyword">kill</span> -<span class="number">9</span> id
svnserve -d -r /home/goutrip/svndata
</code></pre><p>最后不要加正斜杠</p>
<p>可能用 systemctl enable svnservice.service 开启了服务 重启后svn又无法启动<br>解决办法 killall svnserve</p>
<h1 id="远程桌面">远程桌面</h1><pre><code>[root<span class="variable">@dlp</span> ~]<span class="comment"># yum -y install freerdp </span>
[cent<span class="variable">@dlp</span> ~]<span class="variable">$ </span>xfreerdp -g <span class="number">800</span>x60<span class="number">0</span> -u administrator <span class="number">10.0</span>.<span class="number">0</span>.<span class="number">100</span> 
</code></pre><h1 id="virtualbox">virtualbox</h1><blockquote>
<p>用root用户</p>
</blockquote>
<pre><code>[root<span class="annotation">@dlp</span> ~]# vboxmanage list vms
[root<span class="annotation">@dlp</span> ~]# vboxmanage startvm <span class="string">"widnows 2008"</span> --<span class="class"><span class="keyword">type</span> <span class="title">headless</span>
</span>[root<span class="annotation">@dlp</span> ~]# vboxmanage controlvm <span class="string">"windows 2008"</span> poweroff
</code></pre>
      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://evatlsong.com/2014/09/10/centos-install/" data-id="cichk7n2200101ixmyz3inwii" class="article-share-link" data-share="baidu">分享到</a>
      

      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-domain-config" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/09/09/domain-config/" class="article-date">
  <time datetime="2014-09-09T02:25:55.000Z" itemprop="datePublished">2014-09-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/09/domain-config/">domain-config</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="记录类型">记录类型</h2><blockquote>
<p>要将域名指向空间商提供的IP地址，请选择「A记录」，要将域名指向另一个域名，请选择「CNAME记录」。</p>
</blockquote>
<ol>
<li>A记录：将域名指向一个IPv4地址（例如：10.10.10.10），需要增加A记录</li>
<li>CNAME记录：如果将域名指向一个域名，实现与被指向域名相同的访问效果，需要增加CNAME记录</li>
<li>MX记录：建立电子邮箱服务，将指向邮件服务器地址，需要设置MX记录</li>
<li>NS记录：域名解析服务器记录，如果要将子域名指定某个域名服务器来解析，需要设置NS记录</li>
<li>TXT记录：可任意填写（可为空），通常用做SPF记录（反垃圾邮件）使用</li>
<li>AAAA记录：将主机名（或域名）指向一个IPv6地址（例如：ff03:0:0:0:0:0:0:c1），需要添加AAAA记录</li>
<li>SRV记录：记录了哪台计算机提供了哪个服务。格式为：服务的名字.协议的类型（例如：_example-server._tcp）</li>
<li>显性URL：将域名指向一个http（s)协议地址，访问域名时，自动跳转至目标地址（例如：将www.net.cn显性转发到www.hichina.com后，访问www.net.cn时，地址栏显示的地址为：www.hichina.com）。</li>
<li>隐性URL：与显性URL类似，但隐性转发会隐藏真实的目标地址（例如：将www.net.cn隐性转发到www.hichina.com后，访问www.net.cn时，地址栏显示的地址仍然为：www.net.cn）。</li>
</ol>
<h2 id="主机记录(RR)">主机记录(RR)</h2><blockquote>
<p>要将域名解析为www.example.com，在主机记录(RR)处填写www即可。</p>
</blockquote>
<p>主机记录就是域名前缀，常见用法有：</p>
<ol>
<li>www ： 将域名example.com解析为www.example.com；</li>
<li>@ ： 直接解析域名，使主机记录为空，解析后的域名为 example.com（若不填写主机记录自动填充@）；</li>
<li>mail ： 通常被用作邮箱服务器前缀，解析后的域名为 mail.example.com；</li>
<li><ul>
<li>： 泛解析，所有子域名均被解析到同一地址（除单独设置的子域名解析）。</li>
</ul>
</li>
</ol>
<h2 id="记录值">记录值</h2><ol>
<li>A记录值：请填写您的服务器IP地址（必须为IPv4地址，例如：11.11.11.11），若不清楚IP，请您咨询您的空间服务商。</li>
<li>CNAME记录值：请填写空间服务商提供给您的域名（例如：hichina.com）。</li>
<li>MX记录值：请填写邮件服务商提供给您的域名（例如：hichina.com）。</li>
<li>NS记录值：NS向下授权，请填写DNS域名（例如：example.hichina.com）。</li>
<li>AAAA记录值：请填写一个IPv6地址（例如：ff03:0:0:0:0:0:0:c1）。</li>
<li>SRV记录值：格式为：优先级、空格、权重、空格、端口号、空格、目标地址，例如：3 0 2176 example-server.2.google.com。</li>
</ol>
<h2 id="示例">示例</h2><pre><code>记录类型 主机记录 解析线路 记录值
<span class="keyword">A</span>        @        默认        <span class="number">114.112.69.203</span>
<span class="keyword">A</span>        www        默认        <span class="number">114.112.69.203</span>

<span class="keyword">A</span>        xj        默认        <span class="number">114.112.69.203</span>

<span class="keyword">A</span>        mail    默认        <span class="number">114.112.69.194</span>
<span class="keyword">MX</span>        mail    默认        goutrip.com

<span class="keyword">MX</span>        @        默认     mxbiz1.qq.com
<span class="keyword">MX</span>        @        默认     mxbiz2.qq.com
</code></pre><blockquote>
<p>解析mail.goutrip.com时 主机记录不要填 <code>@</code> 否则会和qq企业邮箱的解析冲突</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://evatlsong.com/2014/09/09/domain-config/" data-id="cichk7n1x000y1ixmtkjaha9w" class="article-share-link" data-share="baidu">分享到</a>
      

      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-php-note" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/09/04/php-note/" class="article-date">
  <time datetime="2014-09-04T05:43:45.000Z" itemprop="datePublished">2014-09-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/04/php-note/">php-note</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>打印调试信息<br>error_log(“userinfo”, 3, “php_sql_err.log”);</p>
<pre><code><span class="variable">$where</span>[<span class="string">'truename'</span>] = <span class="keyword">array</span>(<span class="string">'like'</span>, <span class="string">'%'</span>.trim(<span class="variable">$_POST</span>[<span class="string">'truename'</span>]).<span class="string">'%'</span>);
<span class="variable">$count</span>     = <span class="variable">$card_create_db</span>-&gt;where(<span class="variable">$where</span>)-&gt;count();
<span class="variable">$Page</span>      = <span class="keyword">new</span> Page(<span class="variable">$count</span>, <span class="number">15</span>);
<span class="variable">$show</span>      = <span class="variable">$Page</span>-&gt;show();
<span class="variable">$list</span>      = <span class="variable">$card_create_db</span>-&gt;where(<span class="variable">$where</span>)-&gt;limit(<span class="variable">$Page</span>-&gt;firstRow . <span class="string">','</span> . <span class="variable">$Page</span>-&gt;listRows)-&gt;select();

<span class="variable">$userinfo_db</span> = M(<span class="string">'Userinfo'</span>);
<span class="variable">$userinfo_where</span>[<span class="string">'wecha_id'</span>] = <span class="keyword">array</span>(<span class="string">'in'</span>, <span class="variable">$wecha_ids</span>);
<span class="variable">$users</span>                      = <span class="variable">$userinfo_db</span>-&gt;where(<span class="variable">$userinfo_where</span>)-&gt;select();
</code></pre><p>是因为你访问的地址大小写问题：<a href="http://127.0.0.1/index.php/index/index" target="_blank" rel="external">http://127.0.0.1/index.php/index/index</a><br>控制器没有大写，Index</p>
<p>最终的解决方法是，不区分大小写把这功能开启，在配置文件下config.php中加入<br>‘URL_CASE_INSENSITIVE’  =&gt; true, //不区分大小写 问题解决</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://evatlsong.com/2014/09/04/php-note/" data-id="cichk7n0t000g1ixm88upj9h3" class="article-share-link" data-share="baidu">分享到</a>
      

      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-oracle-usage" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/09/04/oracle-usage/" class="article-date">
  <time datetime="2014-09-04T03:40:08.000Z" itemprop="datePublished">2014-09-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/04/oracle-usage/">oracle-usage</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="windows">windows</h2><p>sqlplus 连接<br>sqlplus username/password@database;<br>查询<br>select * from username.table t where t.id=1;</p>
<p>表名前要加用户名</p>
<p>查询结果保存到文本文件</p>
<pre><code><span class="title">spool</span> abc.txt;
<span class="title">select</span> * from wap_subscribe;
<span class="title">spool</span> <span class="built_in">off</span>;
</code></pre><p>保存的只是输出到屏幕的内容</p>
<p>设置屏幕输出大小 解决显示不全问题</p>
<pre><code><span class="built_in">set</span> <span class="keyword">long</span> <span class="number">40000</span>;
</code></pre><p>imp userid=ltwuliu/LTWULIU@huictrip file=D:\databackup\huitrip20140813.dmp full=y<br>exp userid=sunztravelweb/huictrip@goutrip file=E:\data\goutrip20140805.dmp </p>
<p>When making some backup tasks (import or Export) on oracle 10g, 11g (for example), you can get a message error:<br>ORA-20446: The owner of the job is not registered ORA-06512: at “SYSMAN.MGMT_JOBS”…</p>
<p>Solution<br>Open CMD<br>C:>Set oracle_sid= SID_OF_THE_DATABASE<br>C:>sqlplus<br>username: SYSMAN<br>password: <em>**</em><br>SQL&gt;execute MGMT_USER.MAKE_EM_USER(‘USERNAME’);</p>
<p>USERNAME – the user that you use to connect to enterprise managert<br>don’t copy/past the command, sometimes they are some hidden characters</p>
<p>11G中有个新特性，当表无数据时，不分配segment，以节省空间<br>　　解决方法：<br>　　1、insert一行，再rollback就产生segment了。<br>　　该方法是在在空表中插入数据，再删除，则产生segment。导出时则可导出空表。<br>　　2、设置deferred_segment_creation 参数<br>show parameter deferred_segment_creation</p>
<p>NAME                                 TYPE        VALUE</p>
<hr>
<p>deferred_segment_creation            boolean     TRUE<br>SQL&gt; alter system set deferred_segment_creation=false;</p>
<p>系统已更改。</p>
<p>SQL&gt; show parameter deferred_segment_creation</p>
<p>NAME                                 TYPE        VALUE</p>
<hr>
<p>deferred_segment_creation            boolean     FALSE</p>
<p> 3、用以下这句查找空表并分配空间<br>　　select ‘alter table ‘||table_name||’ allocate extent;’ from user_tables where num_rows=0;<br>　　把SQL查询的结果导出，然后执行导出的语句，强行为表分配空间修改segment值，然后再导出即可导出空表了。</p>
<p>drop user sunztravelweb cascade;</p>
<p>CREATE TEMPORARY TABLESPACE USER_TEMP<br>TEMPFILE ‘D:\app\Administrator\product\11.1.0\db_1\oradata\USER_TEMP.dbf’<br>SIZE 32M<br>AUTOEXTEND ON<br>NEXT 32M MAXSIZE 2048M<br>EXTENT MANAGEMENT LOCAL;</p>
<p>CREATE TABLESPACE USER_DATA<br>LOGGING<br>DATAFILE ‘D:\app\Administrator\product\11.1.0\db_1\oradata\USER_DATA.DBF’<br>SIZE 32M<br>AUTOEXTEND ON<br>NEXT 32M MAXSIZE 2048M<br>EXTENT MANAGEMENT LOCAL;</p>
<p>CREATE USER sunztravelweb IDENTIFIED BY huictrip<br>DEFAULT TABLESPACE USER_DATA<br>TEMPORARY TABLESPACE USER_TEMP;</p>
<p>grant connect,resource,dba to sunztravelweb;</p>
<p>imp userid=sunztravelweb/huictrip@localhost/goutrip file=E:\data\goutrip20140708.dmp full=y</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://evatlsong.com/2014/09/04/oracle-usage/" data-id="cichk7n0v000h1ixmkvk7kjv5" class="article-share-link" data-share="baidu">分享到</a>
      

      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-git-svn-usage" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/09/02/git-svn-usage/" class="article-date">
  <time datetime="2014-09-02T14:47:43.000Z" itemprop="datePublished">2014-09-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/02/git-svn-usage/">git-svn-usage</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="操作方法">操作方法</h2><ul>
<li>从svn切换到git<blockquote>
<p><code>git svn clone --no-metadata your_svn_repository_url</code><br><code>git clone --bare git_repository_url git_server_url</code></p>
</blockquote>
</li>
<li><p>检出一个已存在svn repository(类似于svn checkout)</p>
<blockquote>
<p>我们可以通过 <code>git-svn clone</code> 命令完成这个操作： <code>git-svn clone your_svn_repository_url</code></p>
</blockquote>
</li>
<li><p>从中心服务器的svn repository获取最新更新</p>
<blockquote>
<p>这个操作可以通过 <code>git-svn rebase</code> 完成。注意这里用的是rebase，而不是update。update命令对于通过git-svn检出的svn repostory的git版本库是不可用的。</p>
</blockquote>
</li>
<li><p>查看提交历史日志</p>
<blockquote>
<p>这个简单，使用 <code>git-svn log</code> ，加上-v选项，还可以提供每次commit操作涉及的相关文件的详细信息。</p>
</blockquote>
</li>
<li><p>将本地代码同步到Svn服务器</p>
<blockquote>
<p>完成这一操作需要通过 <code>git-svn dcommit</code> 命令。这个命令会将你在本地使用 <code>git commit</code> 提交到本地代码库的所有更改逐一提交到svn库中。加上-n选项，则该命令不会真正执行commit到svn的操作，而是会显示会有哪些本地变动将被commit到svn服务器。 <code>git-svn dcommit</code> 似乎不能单独提交某个本地版本的修改，而是一次批量提交所有与svn中心版本库的差异。</p>
</blockquote>
</li>
</ul>
<h2 id="一般使用流程：">一般使用流程：</h2><ol>
<li><code>git-svn clone your_svn_repository</code>；</li>
<li>修改本地代码，使用 <code>git add/commit</code> 将修改提交到本地git库；</li>
<li>定期使用 <code>git-svn rebase</code> 获取中心svn repository的更新；</li>
<li>使用 <code>git-svn dcommit</code> 命令将本地git库的修改同步到中心svn库。</li>
</ol>
<h2 id="注意事项">注意事项</h2><ol>
<li><p>处理冲突</p>
<ul>
<li>假设某svn中心库上的某个项目foo中只有一个源码文件foo.c：</li>
<li>我在使用 <code>git-svn clone</code> 检出版本时，foo.c当时只有一个commit版本信息：”svn v1”；</li>
<li>clone出来后，我在本地git库中修改foo.c，并通过 <code>git commit</code> 提交到本地git库中，版本为”git v1”；</li>
<li>不过与此同时另外一个同事也在修改foo.c这个文件，并已经将他的修改提交到了svn库中，版本为”svn v2”；</li>
<li><p>此时我使用 <code>git-svn dcommit</code> 尝试提交我的改动，git-svn提示我：</p>
<pre><code>Committing to <span class="string">svn:</span><span class="comment">//10.10.1.1:80/foo ...</span>
M foo.c
事务过时: 过期: ”foo<span class="regexp">/foo.c“在事务“260-1” at /</span>usr<span class="regexp">/lib/</span>git-core/git-svn line <span class="number">570</span>
</code></pre></li>
<li><p>使用 <code>git-svn rebase</code> 获取svn服务器上的最新foo.c，导致与foo.c冲突，不过此时svn版本信息已经添加到本地git库中(通过git log可以查看)，<code>git-svn rebase</code> 提示你在解决foo.c的冲突后，运行 <code>git rebase --continue</code> 完成rebase操作；</p>
</li>
<li>打开foo.c，修改代码，解决冲突；</li>
<li><p>执行 <code>git rebase --continue</code> ，git提示我：</p>
<pre><code>You must edit all <span class="built_in">merge</span> conflicts <span class="operator">and</span> <span class="keyword">then</span>
mark them <span class="keyword">as</span> resolved <span class="keyword">using</span> git <span class="built_in">add</span>
</code></pre></li>
<li><p>执行 <code>git add foo.c</code> ，告知git已完成冲突解决；</p>
</li>
<li>再次执行 <code>git rebase --continue</code> ，提示”Applying: git v1”，此时”git v1”版本又一次成功加入本地版本库，你可通过 <code>git log</code> 查看；</li>
<li>执行 <code>git-svn dcommit</code> 将foo.c的改动同步到svn中心库，到此算是完成一次冲突解决。</li>
</ul>
</li>
<li><p>分支问题</p>
<p> git分支合并回master后要删除 因为使用 <code>git-svn rebase</code> 获取版本库更新会改变git历史</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://evatlsong.com/2014/09/02/git-svn-usage/" data-id="cichk7n1p000t1ixmbfwvw6zz" class="article-share-link" data-share="baidu">分享到</a>
      

      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git-svn/">git svn</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-apache-php-tomcat-integration" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/08/29/apache-php-tomcat-integration/" class="article-date">
  <time datetime="2014-08-29T02:02:51.000Z" itemprop="datePublished">2014-08-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/08/29/apache-php-tomcat-integration/">apache-php-tomcat-integration</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>测试时可以修改hosts</p>
<pre><code>127<span class="class">.0</span><span class="class">.0</span><span class="class">.1</span> <span class="tag">www</span><span class="class">.goutrip</span><span class="class">.com</span>
127<span class="class">.0</span><span class="class">.0</span><span class="class">.1</span> <span class="tag">goutrip</span><span class="class">.com</span>
</code></pre><h2 id="Table_of_Contents"><a name="TOC">Table of Contents</a></h2><ul>
<li><a href="#windows">Windows</a><ul>
<li><a href="#version">版本</a></li>
<li><a href="#install-apache">安装apache</a></li>
<li><a href="#install-tomcat">安装tomcat</a></li>
<li><a href="#install-php">安装php</a></li>
<li><a href="#install-mysql">安装mysql</a></li>
<li><a href="#integrate-apache-tomcat">整合apache tomcat</a><ul>
<li><a href="#config-apache">apache配置</a></li>
<li><a href="#config-tomcat">tomcat配置</a></li>
</ul>
</li>
<li><a href="#integrate-apache-php">整合apache php</a></li>
<li><a href="#integrate-php-mysql">整合php mysql</a></li>
</ul>
</li>
<li><a href="">Linux</a></li>
</ul>
<h2 id="Windows"><a id="windows">Windows</a></h2><h3 id="版本"><a id="version">版本</a></h3><pre><code><span class="tag">httpd-2</span><span class="class">.2</span><span class="class">.25-win32-x86-openssl-0</span><span class="class">.9</span><span class="class">.8y</span><span class="class">.msi</span>
<span class="tag">apache-tomcat-7</span><span class="class">.0</span><span class="class">.55-windows-x64</span><span class="class">.zip</span>
<span class="tag">php-5</span><span class="class">.2</span><span class="class">.13-Win32</span><span class="class">.zip</span>
<span class="tag">mysql-5</span><span class="class">.5</span><span class="class">.39-winx64</span><span class="class">.zip</span>
</code></pre><h3 id="安装apache"><a id="install-apache">安装apache</a></h3><p>httpd.conf</p>
<pre><code><span class="tag">&lt;Directory /&gt;</span>
    <span class="keyword"><span class="common">Options</span></span> FollowSymLinks
    <span class="keyword">AllowOverride</span> None
<span class="comment">#    Order deny,allow</span>
<span class="comment">#    Deny from all</span>
<span class="tag">&lt;/Directory&gt;</span>
</code></pre><h3 id="安装tomcat"><a id="install-tomcat">安装tomcat</a></h3><h3 id="安装php"><a id="install-php">安装php</a></h3><p>解压到目录 设置 path 环境变量</p>
<pre><code><span class="label">D:</span>\php5
</code></pre><p>加载模块报错：</p>
<p>有时启动Apache的时候会提示“找不到指定模块”的错误，是因为没有指定这些模块文件的位置，定位关键字“extension_dir”，修改Windows下为你的PHP模块的目录。</p>
<pre><code><span class="setting">extession_dir = <span class="value"><span class="string">"D:\PHP\ext"</span></span></span>
</code></pre><p>或者添加 path 环境变量 </p>
<pre><code>D:<span class="command">\php</span><span class="command">\ext</span>
</code></pre><h3 id="安装mysql"><a id="install-mysql">安装mysql</a></h3><p>解压到目录<br>添加到path环境变量</p>
<pre><code>E:<span class="command">\Program</span><span class="command">\mysql</span>-5.5.39-winx64<span class="command">\bin</span>
</code></pre><p>启动服务</p>
<pre><code>mysqld <span class="comment">--console</span>
</code></pre><p>关闭服务</p>
<pre><code>mysqladmin -u root -<span class="tag">p</span> shutdown
</code></pre><p>连接到数据库</p>
<pre><code><span class="title">mysql</span> -u root -p
</code></pre><p>进行初始配置 详见mysql-usage.md</p>
<h3 id="整合apache_tomcat"><a id="integrate-apache-tomcat">整合apache tomcat</a></h3><p>有三种方法</p>
<ol>
<li>mod_jk.so</li>
<li>ajp代理</li>
</ol>
<p>以下采用ajp代理方式</p>
<h4 id="apache配置"><a id="config-apache">apache配置</a></h4><p>httpd.conf</p>
<pre><code><span class="keyword"><span class="common">LoadModule</span></span> proxy_module modules/mod_proxy.so
<span class="keyword"><span class="common">LoadModule</span></span> proxy_ajp_module modules/mod_proxy_ajp.so
<span class="keyword"><span class="common">LoadModule</span></span> proxy_balancer_module modules/mod_proxy_balancer.so

<span class="comment"># Virtual hosts </span>
<span class="keyword">Include</span> conf/extra/httpd-vhosts.conf 

<span class="comment">#</span>
<span class="comment"># DirectoryIndex: sets the file that Apache will serve if a directory</span>
<span class="comment"># is requested.</span>
<span class="comment">#</span>
<span class="tag">&lt;IfModule dir_module&gt;</span>
    <span class="keyword">DirectoryIndex</span> index.html index.jsp index.php
<span class="tag">&lt;/IfModule&gt;</span>
</code></pre><p>extra/httpd-vhosts.conf</p>
<pre><code>&lt;VirtualHost *:<span class="number">80</span>&gt;
    ServerName www<span class="class">.goutrip</span><span class="class">.com</span>
    ServerAlias goutrip<span class="class">.com</span>
    ProxyPreserveHost on
    ProxyRequests Off
    &lt;proxy balancer:<span class="comment">//goutrip&gt;</span>
        BalancerMember ajp:<span class="comment">//localhost:8009 loadfactor=1 route=jvm1</span>
        BalancerMember ajp:<span class="comment">//localhost:8010 loadfactor=1 route=jvm2</span>
        BalancerMember ajp:<span class="comment">//localhost:8012 loadfactor=1 route=jvm3</span>
    &lt;/proxy&gt;
    ProxyPass / balancer:<span class="comment">//goutrip/ lbmethod=byrequests stickysession=JSESSIONID nofailover=on</span>
    ProxyPassReverse / balancer:<span class="comment">//goutrip/</span>
    ErrorLog <span class="string">"logs/goutrip.com-error.log"</span>
    CustomLog <span class="string">"logs/goutrip.com-access.log"</span> common
&lt;/VirtualHost&gt;

&lt;VirtualHost *:<span class="number">80</span>&gt;
    DocumentRoot <span class="string">"D:/website/g.goutrip.com"</span>
    ServerName www<span class="class">.g</span><span class="class">.goutrip</span><span class="class">.com</span>
    ServerAlias g<span class="class">.goutrip</span><span class="class">.com</span>
    ErrorLog <span class="string">"logs/g.goutrip.com-error.log"</span>
    CustomLog <span class="string">"logs/g.goutrip.com-access.log"</span> common
&lt;/VirtualHost&gt;
</code></pre><p>以上也配置了负载均衡</p>
<h4 id="tomcat配置"><a id="config-tomcat">tomcat配置</a></h4><p>server.xml</p>
<pre><code>&lt;Engine <span class="variable">name=</span><span class="string">"Standalone"</span> <span class="variable">defaultHost=</span><span class="string">"localhost"</span> <span class="variable">jvmRoute=</span><span class="string">"jvm1"</span>&gt; 
</code></pre><p>修改端口</p>
<pre><code>&lt;Server <span class="variable">port=</span><span class="string">"8005"</span> <span class="variable">shutdown=</span><span class="string">"SHUTDOWN"</span>&gt; 
&lt;Connector <span class="variable">port=</span><span class="string">"8009"</span> <span class="variable">protocol=</span><span class="string">"AJP/1.3"</span> <span class="variable">redirectPort=</span><span class="string">"8443"</span> /&gt; 
</code></pre><h3 id="整合apache_php"><a id="integrate-apache-php">整合apache php</a></h3><p>apache httpd.conf</p>
<pre><code><span class="keyword"><span class="common">LoadModule</span></span> php5_module <span class="string">"D:/php5/php5apache2_2.dll"</span>
<span class="keyword">phpinidir</span> <span class="string">"D:/php5"</span>

<span class="tag">&lt;IfModule mime_module&gt;</span>
<span class="keyword">AddType</span> application/x-httpd-php .php .html  #也可分多行写
<span class="tag">&lt;/IfModule&gt;</span>

<span class="comment">#</span>
<span class="comment"># DirectoryIndex: sets the file that Apache will serve if a directory</span>
<span class="comment"># is requested.</span>
<span class="comment">#</span>
<span class="tag">&lt;IfModule dir_module&gt;</span>
    <span class="keyword">DirectoryIndex</span> index.html index.jsp index.php
<span class="tag">&lt;/IfModule&gt;</span>
</code></pre><p>修改后重启apache</p>
<h3 id="整合php_mysql"><a id="integrate-php-mysql">整合php mysql</a></h3><p>php.ini</p>
<pre><code><span class="attribute">extension</span>=<span class="string">php_mysql.dll</span>
</code></pre><p>修改后重启apache</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://evatlsong.com/2014/08/29/apache-php-tomcat-integration/" data-id="cichk7myl00001ixmxpd5zxuw" class="article-share-link" data-share="baidu">分享到</a>
      

      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/apache-tomat-php-tomcat/">apache tomat php tomcat</a></li></ul>

    </footer>
  </div>
  
</article>


  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
    </nav>
  
</section>
      
      <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">標簽</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/apache-tomat-php-tomcat/">apache tomat php tomcat</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git-svn/">git svn</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/">markdown</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/useage/">useage</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>



  
    
  <div class="widget-wrap">
    <h3 class="widget-title">標簽雲</h3>
    <div class="widget tagcloud">
      <a href="/tags/apache-tomat-php-tomcat/" style="font-size: 10px;">apache tomat php tomcat</a> <a href="/tags/git-svn/" style="font-size: 10px;">git svn</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/markdown/" style="font-size: 20px;">markdown</a> <a href="/tags/useage/" style="font-size: 10px;">useage</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">歸檔</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">June 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">May 2014</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">近期文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/07/23/tmux/">tmux</a>
          </li>
        
          <li>
            <a href="/2015/07/23/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2015/06/29/practical-vim/">practical-vim</a>
          </li>
        
          <li>
            <a href="/2015/06/17/maven-in-action/">maven-in-action</a>
          </li>
        
          <li>
            <a href="/2015/06/12/tdd-in-action/">tdd-in-action</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">友情鏈接</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="http://xiguabaobao.com" target="_blank">主题作者</a>
          </li>
        
          <li>
            <a href="http://reqianduan.com" target="_blank">热前端</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 evatlsong<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/xiangming/landscape-plus" target="_blank">Landscape-plus</a>
    </div>
  </div>
</footer>
  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="https://github.com/evatlsong/evatlsong.github.io" class="mobile-nav-link">SourceCode</a>
  
</nav>
  <!-- totop start -->
<div id="totop">
<a title="返回頂部"><img src="/img/scrollup.png"/></a>
</div>

<!-- totop end -->


<!-- 百度分享 start -->

<div id="article-share-box" class="article-share-box">
  <div id="bdshare" class="bdsharebuttonbox article-share-links">
    <a class="article-share-weibo" data-cmd="tsina" title="分享到新浪微博"></a>
    <a class="article-share-weixin" data-cmd="weixin" title="分享到微信"></a>
    <a class="article-share-qq" data-cmd="sqq" title="分享到QQ"></a>
    <a class="article-share-renren" data-cmd="renren" title="分享到人人网"></a>
    <a class="article-share-more" data-cmd="more" title="更多"></a>
  </div>
</div>
<script>window._bd_share_config={"common":{},"share":{"bdCustomStyle":"/css/bdshare.css"}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];</script>

<!-- 百度分享 end -->

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>




<script src="/js/script.js" type="text/javascript"></script>

</div>
</body>
</html>
